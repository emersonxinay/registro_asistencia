@model CursoCreateViewModel

<div class="crear-curso-container">
    <div class="crear-curso-header">
        <div class="header-content">
            <h1>üìö Crear Nuevo Curso</h1>
            <p>Crea y configura un nuevo curso que podr√°s gestionar completamente</p>
        </div>
        <div class="header-actions">
            <a href="/docente/cursos" class="btn-secondary">
                ‚Üê Volver a Mis Cursos
            </a>
        </div>
    </div>

    <!-- FORMULARIO SIN JAVASCRIPT - VERSION 2.0 -->
    <form id="formCrearCursoV2" action="/docente/cursos/crear" method="post" onsubmit="return true;">
        @Html.AntiForgeryToken()
        <input type="hidden" name="_jsDisabled" value="true">
        <div class="form-sections">
            <!-- Informaci√≥n B√°sica -->
            <div class="form-section">
                <div class="section-header">
                    <h3>üìù Informaci√≥n B√°sica del Curso</h3>
                    <p>Define los datos fundamentales del curso</p>
                </div>
                
                <div class="section-content">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="nombre">
                                <i data-lucide="book"></i>
                                Nombre del Curso *
                            </label>
                            <input 
                                type="text" 
                                id="nombre" 
                                name="Nombre" 
                                placeholder="Ej: Matem√°ticas Avanzadas"
                                required
                                maxlength="100">
                            <small>Nombre descriptivo y claro del curso</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="codigo">
                                <i data-lucide="hash"></i>
                                C√≥digo del Curso *
                            </label>
                            <input 
                                type="text" 
                                id="codigo" 
                                name="Codigo" 
                                placeholder="Ej: MAT301"
                                required
                                maxlength="20"
                                pattern="[A-Z]{2,4}[0-9]{2,3}"
                                title="Formato: 2-4 letras seguidas de 2-3 n√∫meros (ej: MAT301)">
                            <small>C√≥digo √∫nico del curso (ej: MAT301, PROG102)</small>
                        </div>
                        
                        <div class="form-group full-width">
                            <label for="descripcion">
                                <i data-lucide="file-text"></i>
                                Descripci√≥n
                            </label>
                            <textarea 
                                id="descripcion" 
                                name="Descripcion" 
                                placeholder="Describe los objetivos, contenidos y metodolog√≠a del curso..."
                                rows="4"
                                maxlength="500"></textarea>
                            <small>Informaci√≥n detallada sobre el curso (opcional)</small>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Configuraci√≥n Acad√©mica -->
            <div class="form-section">
                <div class="section-header">
                    <h3>üéì Configuraci√≥n Acad√©mica</h3>
                    <p>Define los aspectos acad√©micos del curso</p>
                </div>
                
                <div class="section-content">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="nivel">
                                <i data-lucide="trending-up"></i>
                                Nivel Acad√©mico
                            </label>
                            <select id="nivel" name="nivel">
                                <option value="">Seleccionar nivel...</option>
                                <option value="B√°sico">B√°sico</option>
                                <option value="Intermedio">Intermedio</option>
                                <option value="Avanzado">Avanzado</option>
                                <option value="Especializaci√≥n">Especializaci√≥n</option>
                            </select>
                            <small>Nivel de dificultad del curso</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="creditos">
                                <i data-lucide="award"></i>
                                Cr√©ditos
                            </label>
                            <input 
                                type="number" 
                                id="creditos" 
                                name="creditos" 
                                min="1" 
                                max="20" 
                                step="1"
                                placeholder="4">
                            <small>N√∫mero de cr√©ditos acad√©micos</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="horasSemanales">
                                <i data-lucide="clock"></i>
                                Horas Semanales
                            </label>
                            <input 
                                type="number" 
                                id="horasSemanales" 
                                name="horasSemanales" 
                                min="1" 
                                max="40" 
                                step="1"
                                placeholder="6">
                            <small>Horas de clase por semana</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="capacidadMaxima">
                                <i data-lucide="users"></i>
                                Capacidad M√°xima
                            </label>
                            <input 
                                type="number" 
                                id="capacidadMaxima" 
                                name="capacidadMaxima" 
                                min="5" 
                                max="200" 
                                step="1"
                                placeholder="30">
                            <small>N√∫mero m√°ximo de estudiantes</small>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Configuraci√≥n de Ramos -->
            <div class="form-section">
                <div class="section-header">
                    <h3>üìñ Ramos del Curso</h3>
                    <p>Define los ramos que componen este curso</p>
                </div>
                
                <div class="section-content">
                    <div class="ramos-container">
                        <div id="ramosLista">
                            <div class="ramo-item">
                                <div class="ramo-header">
                                    <span class="ramo-number">Ramo 1</span>
                                </div>
                                <div class="ramo-fields">
                                    <div class="form-group">
                                        <label>
                                            <i data-lucide="book-open"></i>
                                            Nombre del Ramo *
                                        </label>
                                        <input type="text" name="Ramos[0].Nombre" placeholder="Ej: √Ålgebra Lineal" required maxlength="100">
                                    </div>
                                    <div class="form-group">
                                        <label>
                                            <i data-lucide="hash"></i>
                                            C√≥digo del Ramo *
                                        </label>
                                        <input type="text" name="Ramos[0].Codigo" placeholder="Ej: ALG101" required maxlength="20" pattern="[A-Z]{2,4}[0-9]{2,3}">
                                    </div>
                                    <div class="form-group">
                                        <label>
                                            <i data-lucide="clock"></i>
                                            Horas Semanales
                                        </label>
                                        <input type="number" name="Ramos[0].HorasSemanales" min="1" max="20" step="1" placeholder="4">
                                    </div>
                                </div>
                                <div class="form-group" style="margin-top: 15px;">
                                    <label>
                                        <i data-lucide="file-text"></i>
                                        Descripci√≥n del Ramo
                                    </label>
                                    <textarea name="Ramos[0].Descripcion" placeholder="Describe el contenido y objetivos del ramo..." rows="2" maxlength="300"></textarea>
                                </div>
                            </div>
                        </div>
                        
                        <button type="button" class="btn-outline" disabled>
                            <i data-lucide="plus"></i>
                            Agregar Ramo
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Vista Previa del Curso -->
        <div class="course-preview">
            <h3>üëÄ Vista Previa del Curso</h3>
            <div class="preview-card">
                <div class="preview-header">
                    <div class="preview-icon">üìö</div>
                    <div class="preview-details">
                        <h4 id="previewNombre">Nombre del curso...</h4>
                        <p id="previewCodigo">C√≥digo del curso...</p>
                        <p id="previewDescripcion" style="display: none;"></p>
                    </div>
                </div>
                <div class="preview-stats">
                    <div class="stat-item">
                        <span class="stat-icon">üéì</span>
                        <span class="stat-label">Nivel:</span>
                        <span id="previewNivel">No definido</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">‚è∞</span>
                        <span class="stat-label">Horas:</span>
                        <span id="previewHoras">No definido</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">üë•</span>
                        <span class="stat-label">Capacidad:</span>
                        <span id="previewCapacidad">No definido</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">üìñ</span>
                        <span class="stat-label">Ramos:</span>
                        <span id="previewRamos">0</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Acciones del Formulario -->
        <div class="form-actions">
            <button type="button" class="btn-outline" disabled>
                <i data-lucide="save"></i>
                Guardar Borrador
            </button>
            
            <div class="primary-actions">
                <a href="/docente/cursos" class="btn-secondary">
                    Cancelar
                </a>
                <button type="submit" class="btn-primary">
                    <i data-lucide="check"></i>
                    Crear Curso
                </button>
            </div>
        </div>
    </form>
</div>

<style>
.crear-curso-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

.crear-curso-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 30px;
    gap: 20px;
}

.header-content h1 {
    margin: 0 0 10px 0;
    color: #2c3e50;
    font-size: 2.2em;
}

.header-content p {
    margin: 0;
    color: #7f8c8d;
    font-size: 1.1em;
}

.form-sections {
    display: flex;
    flex-direction: column;
    gap: 30px;
    margin-bottom: 40px;
}

.form-section {
    background: white;
    border-radius: 15px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    overflow: hidden;
}

.section-header {
    background: #f8f9fa;
    padding: 20px 25px;
    border-bottom: 1px solid #e9ecef;
}

.section-header h3 {
    margin: 0 0 8px 0;
    color: #2c3e50;
    display: flex;
    align-items: center;
    gap: 8px;
}

.section-header p {
    margin: 0;
    color: #7f8c8d;
    font-size: 0.95em;
}

.section-content {
    padding: 25px;
}

.form-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
}

.form-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.form-group.full-width {
    grid-column: 1 / -1;
}

.form-group label {
    font-weight: 600;
    color: #2c3e50;
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.95em;
}

.form-group input,
.form-group select,
.form-group textarea {
    padding: 12px 15px;
    border: 2px solid #e9ecef;
    border-radius: 8px;
    font-size: 1em;
    transition: all 0.3s ease;
    background: white;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    outline: none;
    border-color: #3498db;
    box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
}

.form-group input:invalid {
    border-color: #e74c3c;
}

.form-group small {
    color: #7f8c8d;
    font-size: 0.85em;
}

.ramos-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

#ramosLista {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.ramo-item {
    background: #f8f9fa;
    border: 1px solid #e9ecef;
    border-radius: 10px;
    padding: 20px;
    position: relative;
}

.ramo-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.ramo-number {
    background: #3498db;
    color: white;
    padding: 4px 12px;
    border-radius: 6px;
    font-size: 0.9em;
    font-weight: 600;
}

.remove-ramo {
    background: #e74c3c;
    color: white;
    border: none;
    padding: 6px 12px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.8em;
    transition: background 0.3s ease;
}

.remove-ramo:hover {
    background: #c0392b;
}

.ramo-fields {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 15px;
}

.course-preview {
    background: white;
    border-radius: 15px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    padding: 25px;
    margin-bottom: 30px;
}

.course-preview h3 {
    margin: 0 0 20px 0;
    color: #2c3e50;
}

.preview-card {
    background: #f8f9fa;
    border-radius: 10px;
    padding: 20px;
    border: 1px solid #e9ecef;
}

.preview-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 20px;
}

.preview-icon {
    font-size: 2.5em;
    color: #3498db;
}

.preview-details h4 {
    margin: 0 0 8px 0;
    color: #2c3e50;
    font-size: 1.4em;
}

.preview-details p {
    margin: 0;
    color: #7f8c8d;
    font-size: 0.95em;
}

.preview-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
}

.stat-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.9em;
}

.stat-icon {
    color: #3498db;
}

.stat-label {
    color: #7f8c8d;
    font-weight: 500;
}

.form-actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 30px;
    background: white;
    border-radius: 15px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
}

.primary-actions {
    display: flex;
    gap: 15px;
}

.btn-primary, .btn-secondary, .btn-outline {
    padding: 12px 20px;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    border: none;
    cursor: pointer;
    font-size: 0.95em;
}

.btn-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.2);
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.3);
}

.btn-secondary {
    background: #6c757d;
    color: white;
}

.btn-secondary:hover {
    background: #5a6268;
    transform: translateY(-1px);
}

.btn-outline {
    background: transparent;
    color: #3498db;
    border: 2px solid #3498db;
}

.btn-outline:hover {
    background: #3498db;
    color: white;
}

/* Responsive */
@@media (max-width: 768px) {
    .crear-curso-header {
        flex-direction: column;
        align-items: stretch;
    }
    
    .form-grid {
        grid-template-columns: 1fr;
    }
    
    .ramo-fields {
        grid-template-columns: 1fr;
    }
    
    .preview-stats {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .form-actions {
        flex-direction: column;
        gap: 20px;
    }
    
    .primary-actions {
        justify-content: center;
        width: 100%;
    }
}

@@media (max-width: 480px) {
    .crear-curso-container {
        padding: 15px;
    }
    
    .section-content {
        padding: 20px;
    }
    
    .preview-stats {
        grid-template-columns: 1fr;
    }
}
</style>

<!-- JavaScript completamente eliminado para evitar cache del navegador -->
<!-- Formulario funciona con HTML puro sin JavaScript -->

<!-- JavaScript completamente eliminado para evitar cache del navegador -->
<!-- Formulario funciona con HTML puro sin JavaScript -->
<!-- JavaScript completamente eliminado para evitar cache del navegador -->
<!-- Formulario funciona con HTML puro sin JavaScript -->